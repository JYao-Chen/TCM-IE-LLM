[
    {
        "input": "患者：王先生，男，45岁，教师。诊次：初诊。时间：2023年3月15日。主诉：腰痛3年，加重1周。现病史：患者3年前因搬运重物后出现腰部酸痛，曾自行服用止痛药物，症状有所缓解，但未彻底好转。近1周来，腰痛加重，伴有下肢麻木感。既往史：无重大疾病史。诊断：经诊断为腰痛病，属寒湿痹阻证。症见腰痛如刺，遇寒加重，舌质淡，苔白腻，脉沉迟。治则：祛风散寒，宣痹通络。方剂：独活寄生汤。中药：独活、桑寄生、当归、白芍、川芎、细辛、桂枝、防风、秦艽、杜仲、赤芍、川牛膝、甘草。中医治疗：针灸结合推拿治疗。病情记录：患者腰痛有所缓解，下肢麻木感减少。医师总结：初步治疗效果明显，建议继续治疗，加强康复锻炼，并定期随访。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n\"\"\"\n# 提取患者信息\npatient_info = extract_info(text, pattern=\"患者：(.*)。\")\npatient_name = extract_info(patient_info, pattern=\"：(.*),\")\n\n# 提取诊次信息\nvisit_info = extract_info(text, pattern=\"诊次：(.*)。\")\nvisit_number = extract_info(visit_info, pattern=\"：(.*?)。\")\n\n# 提取时间信息\ntime_info = extract_info(text, pattern=\"时间：(.*)。\")\nvisit_date = extract_info(time_info, pattern=\"：(.*?)。\")\n\n# 提取中医诊断信息\ndiagnosis_info = extract_info(text, pattern=\"诊断：经诊断为(.*?)。\")\n\n# 提取中医疾病和证候信息\ndisease_info = extract_info(diagnosis_info, pattern=\"(.*?)，属\")\nsyndrome_info = extract_info(diagnosis_info, pattern=\"属(.*?)。\")\n\n# 提取临床表现信息\nclinical_manifestation_info = extract_info(text, pattern=\"症见(.*?)。\")\nclinical_manifestations = extract_multiple_info(clinical_manifestation_info, patterns=[\"(.*?)，\", \"(.*?)。\"])\n\n# 提取中医治则信息\ntreatment_principle_info = extract_info(text, pattern=\"治则：(.*)。\")\ntreatment_principles = extract_multiple_info(treatment_principle_info, patterns=[\"(.*?)，\", \"(.*?)。\"])\n\n# 提取方剂信息\nformula_info = extract_info(text, pattern=\"方剂：(.*)。\")\n\n# 提取中药信息\nherb_info = extract_info(text, pattern=\"中药：((.|\\n)*)。\")\nherbs = extract_multiple_info(herb_info, patterns=[\"(.*?)、\"])\n\n# 提取中医治疗信息\ntreatment_info = extract_info(text, pattern=\"中医治疗：(.*)。\")\ntreatments = extract_multiple_info(treatment_info, patterns=[\"(.*?)结合\"])\n\n# 提取病程阶段信息\ncourse_info = extract_info(text, pattern=\"病情记录：(.*)。\")\ncourse_stage = extract_info(course_info, pattern=\"：(.*?)。\")\n\n# 构建结构化数据\nstructured_data = {\n    \"患者\": [patient_name],\n    \"诊次\": [visit_number],\n    \"时间\": [visit_date],\n    \"中医诊断\": [diagnosis_info],\n    \"中医疾病\": [disease_info],\n    \"中医证候\": [syndrome_info],\n    \"临床表现\": clinical_manifestations,\n    \"中医治则\": treatment_principles,\n    \"方剂\": [formula_info],\n    \"中药\": herbs,\n    \"中医治疗\": treatments,\n    \"病程阶段\": [course_stage]\n}\n\n# 输出结构化数据\nprint(structured_data)\n\"\"\"\n\n# 以下为伪代码中使用的函数定义\n\n# 提取信息函数\ndef extract_info(text, pattern):\n    # 根据正则表达式模式从文本中提取信息\n    pass\n\n# 提取多个信息函数\ndef extract_multiple_info(text, patterns):\n    # 根据多个正则表达式模式从文本中提取多个信息\n    pass\n\n# 伪代码结束",
        "output": "{'患者': ['王先生'], '诊次': ['初诊'], '时间': ['2023年3月15日'], '中医诊断': ['腰痛病'], '中医疾病': ['腰痛病'], '中医证候': ['寒湿痹阻证'], '临床表现': ['腰痛如刺', '下肢麻木感', '舌质淡', '苔白腻', '脉沉迟'], '中医治则': ['祛风散寒', '宣痹通络'], '方剂': ['独活寄生汤'], '中药': ['独活', '桑寄生', '当归', '白芍', '川芎', '细辛', '桂枝', '防风', '秦艽', '杜仲', '赤芍', '川牛膝', '甘草'], '中医治疗': ['针灸', '推拿治疗'], '病程阶段': ['病情有所缓解']}"
    },
    {
        "input": "患者：李女士，女，32岁，公司职员。诊次：二诊。时间：2023年4月5日。主诉：面部湿疹反复发作半年，伴瘙痒。现病史：半年以来，患者面部反复出现红斑、丘疹，瘙痒难忍，曾外用激素类药膏，效果不佳。既往史：无特殊疾病史。诊断：中医诊断为湿疹，属湿热蕴肤证。症见面部红斑、丘疹，瘙痒剧烈，舌质红，苔黄腻，脉滑数。治则：清热利湿，解毒止痒。方剂：龙胆泻肝汤。中药：龙胆草、栀子、黄芩、车前子、泽泻、木通、生地、当归、甘草。中医治疗：湿疹外洗方剂。病情记录：患者面部红斑、丘疹有所减轻，瘙痒感减弱。医师总结：继续治疗，饮食宜清淡，避免辛辣刺激食物。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n\"\"\"\n# 读取输入文本\ninput_text = ...\n\n# 初始化一个字典来存储提取的结果\nextracted_info = {\n    \"患者\": [],\n    \"诊次\": [],\n    \"时间\": [],\n    \"中医诊断\": [],\n    \"中医疾病\": [],\n    \"中医证候\": [],\n    \"临床表现\": [],\n    \"中医治则\": [],\n    \"方剂\": [],\n    \"中药\": [],\n    \"中医治疗\": [],\n    \"病程阶段\": []\n}\n\n# 提取患者信息\npatient_info = ... # 使用正则表达式或字符串操作提取患者信息\nextracted_info[\"患者\"].append(patient_info)\n\n# 提取诊次信息\nvisit_number = ... # 使用正则表达式或字符串操作提取诊次信息\nextracted_info[\"诊次\"].append(visit_number)\n\n# 提取时间信息\nvisit_date = ... # 使用正则表达式或字符串操作提取时间信息\nextracted_info[\"时间\"].append(visit_date)\n\n# 提取中医诊断信息\ndiagnosis = ... # 使用正则表达式或字符串操作提取中医诊断信息\nextracted_info[\"中医诊断\"].append(diagnosis)\nextracted_info[\"中医疾病\"].append(diagnosis) # 中医诊断和中医疾病在这里是相同的\n\n# 提取中医证候信息\nsyndrome = ... # 使用正则表达式或字符串操作提取中医证候信息\nextracted_info[\"中医证候\"].append(syndrome)\n\n# 提取临床表现信息\nclinical_manifestations = ... # 使用正则表达式或字符串操作提取临床表现信息\nextracted_info[\"临床表现\"].extend(clinical_manifestations)\n\n# 提取中医治则信息\ntreatment_principles = ... # 使用正则表达式或字符串操作提取中医治则信息\nextracted_info[\"中医治则\"].extend(treatment_principles)\n\n# 提取方剂信息\nformula = ... # 使用正则表达式或字符串操作提取方剂信息\nextracted_info[\"方剂\"].append(formula)\n\n# 提取中药信息\nherbs = ... # 使用正则表达式或字符串操作提取中药信息\nextracted_info[\"中药\"].extend(herbs)\n\n# 提取中医治疗信息\ntreatment = ... # 使用正则表达式或字符串操作提取中医治疗信息\nextracted_info[\"中医治疗\"].append(treatment)\n\n# 提取病程阶段信息\ndisease_course = ... # 使用正则表达式或字符串操作提取病程阶段信息\nextracted_info[\"病程阶段\"].append(disease_course)\n\n# 输出结构化数据\noutput extracted_info\n\"\"\"\n\n# 伪代码结束",
        "output": "{'患者': ['李女士'], '诊次': ['二诊'], '时间': ['2023年4月5日'], '中医诊断': ['湿疹'], '中医疾病': ['湿疹'], '中医证候': ['湿热蕴肤证'], '临床表现': ['面部红斑', '丘疹', '瘙痒剧烈', '舌质红', '苔黄腻', '脉滑数'], '中医治则': ['清热利湿', '解毒止痒'], '方剂': ['龙胆泻肝汤'], '中药': ['龙胆草', '栀子', '黄芩', '车前子', '泽泻', '木通', '生地', '当归', '甘草'], '中医治疗': ['湿疹外洗方剂'], '病程阶段': ['症状有所缓解']}"
    },
    {
        "input": "患者：张先生，男，53岁，工程师。诊次：初诊。时间：2022年11月20日。主诉：右肘关节疼痛半年，活动受限。现病史：患者半年以来右肘关节逐渐出现疼痛，伴有活动受限，夜间加重，曾服用止痛药，但效果不显。既往史：有高血压史5年。诊断：经诊断为肘痹病，属风湿痹阻证。症见右肘关节疼痛，活动受限，夜间加重，舌质暗红，苔薄，脉沉涩。治则：祛风除湿，活血通络。方剂：防风通圣散。中药：防风、当归、川芎、桃仁、红花、肉桂、白芍、甘草。中医治疗：针灸治疗。病情记录：患者疼痛有所缓解，关节活动度有所增加。医师总结：初步治疗有效，需继续治疗，并进行功能性锻炼。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n# 提取患者信息\npatient_info = extract_info(text, pattern=\"患者：(.*)。\")\npatient_name = extract_info(patient_info, pattern=\"：(.*)，\")\n\n# 提取诊次信息\nvisit_info = extract_info(text, pattern=\"诊次：(.*)。\")\n\n# 提取时间信息\ntime_info = extract_info(text, pattern=\"时间：(.*)。\")\n\n# 提取中医诊断信息\ndiagnosis_info = extract_info(text, pattern=\"诊断：经诊断为(.*)，属\")\ndisease_info = extract_info(diagnosis_info, pattern=\"（(.*)）\")\nsyndrome_info = extract_info(diagnosis_info, pattern=\"属(.*)证\")\n\n# 提取临床表现信息\nclinical_manifestation_info = extract_info(text, pattern=\"症见(.*)。\")\nclinical_manifestation_list = extract_list(clinical_manifestation_info, separator=\"，\")\n\n# 提取中医治则信息\ntreatment_principle_info = extract_info(text, pattern=\"治则：(.*)。\")\ntreatment_principle_list = extract_list(treatment_principle_info, separator=\"，\")\n\n# 提取方剂信息\nprescription_info = extract_info(text, pattern=\"方剂：(.*)。\")\n\n# 提取中药信息\nherb_info = extract_info(text, pattern=\"中药：(.*)。\")\nherb_list = extract_list(herb_info, separator=\"、\")\n\n# 提取中医治疗信息\ntreatment_info = extract_info(text, pattern=\"中医治疗：(.*)。\")\n\n# 提取病程阶段信息\ncourse_info = extract_info(text, pattern=\"病情记录：(.*)。\")\n\n# 提取西医疾病信息\nwestern_medicine_info = extract_info(text, pattern=\"既往史：有(.*)史\")\n\n# 结构化输出\nstructured_data = {\n    \"患者\": [patient_name],\n    \"诊次\": [visit_info],\n    \"时间\": [time_info],\n    \"中医诊断\": [disease_info],\n    \"中医疾病\": [disease_info],\n    \"中医证候\": [syndrome_info],\n    \"临床表现\": clinical_manifestation_list,\n    \"中医治则\": treatment_principle_list,\n    \"方剂\": [prescription_info],\n    \"中药\": herb_list,\n    \"中医治疗\": [treatment_info],\n    \"病程阶段\": [course_info],\n    \"西医疾病\": [western_medicine_info]\n}\n\n# 输出结构化数据\nprint(structured_data)\n\n#以下是伪代码中使用的辅助函数\ndef extract_info(text, pattern):\n    # 根据正则表达式模式从文本中提取信息\n    pass\n\ndef extract_list(info, separator):\n    # 根据分隔符将字符串分割成列表\n    pass\n\n# 伪代码结束",
        "output": "{'患者': ['张先生'], '诊次': ['初诊'], '时间': ['2022年11月20日'], '中医诊断': ['肘痹病'], '中医疾病': ['肘痹病'], '中医证候': ['风湿痹阻证'], '临床表现': ['右肘关节疼痛', '舌质暗红', '苔薄', '脉沉涩', '活动受限'], '中医治则': ['祛风除湿', '活血通络'], '方剂': ['防风通圣散'], '中药': ['防风', '当归', '川芎', '桃仁', '红花', '肉桂', '白芍', '甘草'], '中医治疗': ['针灸治疗'], '病程阶段': ['病情有所缓解'], '西医疾病': ['高血压']}"
    },
    {
        "input": "患者：赵女士，女，65岁，退休工人。诊次：三诊。时间：2023年2月10日。主诉：双膝关节疼痛3年，冬季加重。现病史：患者双膝关节疼痛，活动时明显，冬季及阴雨天症状加重，曾服用抗风湿药物，无明显效果。既往史：无特殊疾病史。诊断：诊断为膝痹病，属寒湿痹阻证。症见双膝关节疼痛，拘急难伸，遇寒加重，舌质淡，苔白腻，脉沉迟。治则：温经散寒，祛风除湿。方剂：桂枝附子汤。中药：桂枝、附子、芍药、生姜、大枣、甘草。中医治疗：针灸结合艾灸治疗。病情记录：患者膝关节疼痛减轻，活动较前灵活。医师总结：治疗效果显著，需继续巩固治疗，注意保暖，避免寒湿侵袭。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n\"\"\"\n# 提取患者信息\npatient_info = extract_info(text, pattern=\"患者：(.*)。\")\npatient_name = extract_info(patient_info, pattern=\"姓名：(.*)，\")\npatient_gender = extract_info(patient_info, pattern=\"性别：(.*)，\")\npatient_age = extract_info(patient_info, pattern=\"年龄：(.*)，\")\npatient_occupation = extract_info(patient_info, pattern=\"职业：(.*)。\")\n\n# 提取诊次和时间\nvisit_info = extract_info(text, pattern=\"诊次：(.*)。时间：(.*)。\")\nvisit_number = extract_info(visit_info, pattern=\"诊次：(.*)，\")\nvisit_date = extract_info(visit_info, pattern=\"时间：(.*)。\")\n\n# 提取主诉和现病史\nchief_complaint = extract_info(text, pattern=\"主诉：(.*)。\")\nmedical_history = extract_info(text, pattern=\"现病史：(.*)。既往史：\")\n\n# 提取诊断信息\ndiagnosis_info = extract_info(text, pattern=\"诊断：(.*)。\")\ndisease_name = extract_info(diagnosis_info, pattern=\"诊断为(.*)，\")\nsyndrome_name = extract_info(diagnosis_info, pattern=\"属(.*)。\")\n\n# 提取临床表现\nclinical_manifestation = extract_info(text, pattern=\"症见(.*)。治则：\")\n\n# 提取中医治则\ntreatment_principle = extract_info(text, pattern=\"治则：(.*)。方剂：\")\n\n# 提取方剂和中药\nprescription_info = extract_info(text, pattern=\"方剂：(.*)。中药：(.*)。\")\nprescription_name = extract_info(prescription_info, pattern=\"方剂：(.*)，\")\nherbs = extract_info(prescription_info, pattern=\"中药：(.*)。\").split('、')\n\n# 提取中医治疗\ntreatment_info = extract_info(text, pattern=\"中医治疗：(.*)。病情记录：\")\n\n# 提取病程阶段\ndisease_course = extract_info(text, pattern=\"病情记录：(.*)。医师总结：\")\n\n# 结构化输出\nstructured_data = {\n    \"患者\": [patient_name],\n    \"诊次\": [visit_number],\n    \"时间\": [visit_date],\n    \"中医诊断\": [disease_name],\n    \"中医疾病\": [disease_name],\n    \"中医证候\": [syndrome_name],\n    \"临床表现\": clinical_manifestation.split('，'),\n    \"中医治则\": treatment_principle.split('，'),\n    \"方剂\": [prescription_name],\n    \"中药\": herbs,\n    \"中医治疗\": treatment_info.split('结合'),\n    \"病程阶段\": [disease_course]\n}\n\n# 输出结构化数据\nprint(structured_data)\n\"\"\"\n\n# 以下为伪代码中使用的辅助函数\n\"\"\"\ndef extract_info(text, pattern):\n    # 使用正则表达式匹配并提取信息\n    match = regex_search(pattern, text)\n    return match.group(1) if match else None\n\"\"\"\n\n# 伪代码结束",
        "output": "{'患者': ['赵女士'], '诊次': ['三诊'], '时间': ['2023年2月10日'], '中医诊断': ['膝痹病'], '中医疾病': ['膝痹病'], '中医证候': ['寒湿痹阻证'], '临床表现': ['双膝关节疼痛', '拘急难伸', '遇寒加重', '舌质淡', '苔白腻', '脉沉迟'], '中医治则': ['温经散寒', '祛风除湿'], '方剂': ['桂枝附子汤'], '中药': ['桂枝', '附子', '芍药', '生姜', '大枣', '甘草'], '中医治疗': ['针灸', '艾灸治疗'], '病程阶段': ['病情有所缓解']}"
    },
    {
        "input": "患者：孙先生，男，29岁，工程师。诊次：初诊。时间：2023年5月7日。主诉：视疲劳半年，伴有头痛。现病史：长期使用电脑工作，眼部干涩、酸胀，视物模糊，常有头痛。曾尝试休息及滴眼药水，但症状未明显改善。既往史：无特殊疾病史。诊断：经诊断为视疲劳，属肝肾阴虚证。症见眼干涩、视物模糊，头痛，舌红少苔，脉细弱。治则：滋补肝肾，明目止痛。方剂：杞菊地黄汤。中药：枸杞子、菊花、生地、山茱萸、山药、泽泻、茯苓、丹皮。中医治疗：针灸结合眼部按摩治疗。病情记录：患者视疲劳症状有所缓解，头痛减少。医师总结：治疗有效，建议持续治疗，注意眼部保养，减少电脑使用时间。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n\"\"\"\n# 读取输入文本\ninput_text = ...\n\n# 初始化一个字典来存储提取的结果\nextracted_info = {\n    \"患者\": [],\n    \"诊次\": [],\n    \"时间\": [],\n    \"中医诊断\": [],\n    \"中医疾病\": [],\n    \"中医证候\": [],\n    \"临床表现\": [],\n    \"中医治则\": [],\n    \"方剂\": [],\n    \"中药\": [],\n    \"中医治疗\": [],\n    \"病程阶段\": []\n}\n\n# 提取患者信息\npatient_info = ... # 使用正则表达式或字符串操作提取患者信息\nextracted_info[\"患者\"].append(patient_info)\n\n# 提取诊次信息\nvisit_time = ... # 使用正则表达式或字符串操作提取诊次信息\nextracted_info[\"诊次\"].append(visit_time)\n\n# 提取时间信息\ndate = ... # 使用正则表达式或字符串操作提取时间信息\nextracted_info[\"时间\"].append(date)\n\n# 提取中医诊断信息\ndiagnosis = ... # 使用正则表达式或字符串操作提取中医诊断信息\nextracted_info[\"中医诊断\"].append(diagnosis)\nextracted_info[\"中医疾病\"].append(diagnosis) # 在此案例中诊断和疾病相同\n\n# 提取中医证候信息\nsyndrome = ... # 使用正则表达式或字符串操作提取中医证候信息\nextracted_info[\"中医证候\"].append(syndrome)\n\n# 提取临床表现信息\nclinical_manifestations = [...] # 使用正则表达式或字符串操作提取临床表现信息\nextracted_info[\"临床表现\"].extend(clinical_manifestations)\n\n# 提取中医治则信息\ntreatment_principle = [...] # 使用正则表达式或字符串操作提取中医治则信息\nextracted_info[\"中医治则\"].extend(treatment_principle)\n\n# 提取方剂信息\nprescription = ... # 使用正则表达式或字符串操作提取方剂信息\nextracted_info[\"方剂\"].append(prescription)\n\n# 提取中药信息\nherbs = [...] # 使用正则表达式或字符串操作提取中药信息\nextracted_info[\"中药\"].extend(herbs)\n\n# 提取中医治疗信息\ntreatments = [...] # 使用正则表达式或字符串操作提取中医治疗信息\nextracted_info[\"中医治疗\"].extend(treatments)\n\n# 提取病程阶段信息\ndisease_course = ... # 使用正则表达式或字符串操作提取病程阶段信息\nextracted_info[\"病程阶段\"].append(disease_course)\n\n# 输出结构化数据\nprint(extracted_info)\n\"\"\"\n\n# 伪代码结束",
        "output": "{'患者': ['孙先生'], '诊次': ['初诊'], '时间': ['2023年5月7日'], '中医诊断': ['视疲劳'], '中医疾病': ['视疲劳'], '中医证候': ['肝肾阴虚证'], '临床表现': ['眼干涩', '视物模糊', '头痛', '舌红少苔', '脉细弱'], '中医治则': ['滋补肝肾', '明目止痛'], '方剂': ['杞菊地黄汤'], '中药': ['枸杞子', '菊花', '生地', '山茱萸', '山药', '泽泻', '茯苓', '丹皮'], '中医治疗': ['针灸', '眼部按摩治疗'], '病程阶段': ['病情有所缓解']}"
    },
    {
        "input": "患者：黄女士，女，40岁，家庭主妇。诊次：初诊。时间：2022年9月30日。主诉：双手指关节肿痛1年，加重3个月。现病史：患者1年前出现双手指关节肿痛，晨僵明显，影响日常活动。曾服用非甾体抗炎药，效果不佳。既往史：无特殊疾病史。诊断：经诊断为指痹病，属痰瘀互结证。症见双手指关节肿痛，晨僵，舌暗有瘀斑，苔白腻，脉弦滑。治则：化痰行瘀，通络止痛。方剂：二陈汤合桃仁红花煎。中药：半夏、陈皮、茯苓、甘草、桃仁、红花、川芎、当归、生姜、大枣。中医治疗：针灸结合推拿治疗。病情记录：患者手指肿痛有所缓解，晨僵有所改善。医师总结：初步治疗有效，建议继续治疗，并进行手部功能锻炼，避免寒湿侵袭。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n\"\"\"\n# 提取患者信息\nextract_patient_info(text)\n    patient_info = {}\n    patient_info['患者'] = extract_name(text)\n    patient_info['诊次'] = extract_diagnosis_times(text)\n    patient_info['时间'] = extract_time(text)\n    return patient_info\n\n# 提取中医诊断信息\nextract_diagnosis_info(text)\n    diagnosis_info = {}\n    diagnosis_info['中医诊断'] = extract_disease_diagnosis(text)\n    diagnosis_info['中医疾病'] = extract_disease_name(text)\n    diagnosis_info['中医证候'] = extract_symptom_pattern(text)\n    return diagnosis_info\n\n# 提取临床表现\nextract_clinical_manifestations(text)\n    clinical_manifestations = extract_symptoms(text)\n    return clinical_manifestations\n\n# 提取中医治疗信息\nextract_treatment_info(text)\n    treatment_info = {}\n    treatment_info['中医治则'] = extract_treatment_principles(text)\n    treatment_info['方剂'] = extract_prescription(text)\n    treatment_info['中药'] = extract_herbs(text)\n    treatment_info['中医治疗'] = extract_treatment_methods(text)\n    return treatment_info\n\n# 提取病程阶段\nextract_disease_course(text)\n    disease_course = extract_disease_progress(text)\n    return disease_course\n\n# 组合所有信息\ncombine_all_information(patient_info, diagnosis_info, clinical_manifestations, treatment_info, disease_course)\n    all_information = {}\n    all_information.update(patient_info)\n    all_information.update(diagnosis_info)\n    all_information['临床表现'] = clinical_manifestations\n    all_information.update(treatment_info)\n    all_information['病程阶段'] = disease_course\n    return all_information\n\n# 主函数\nmain(text)\n    patient_info = extract_patient_info(text)\n    diagnosis_info = extract_diagnosis_info(text)\n    clinical_manifestations = extract_clinical_manifestations(text)\n    treatment_info = extract_treatment_info(text)\n    disease_course = extract_disease_course(text)\n    all_information = combine_all_information(patient_info, diagnosis_info, clinical_manifestations, treatment_info, disease_course)\n    return all_information\n\n# 输入文本并执行主函数\ninput_text = \"输入的中医文本\"\nresult = main(input_text)\nprint(result)\n\"\"\"\n\n# 伪代码结束",
        "output": "{'患者': ['黄女士'], '诊次': ['初诊'], '时间': ['2022年9月30日'], '中医诊断': ['指痹病'], '中医疾病': ['指痹病'], '中医证候': ['痰瘀互结证'], '临床表现': ['双手指关节肿痛', '晨僵', '舌暗有瘀斑', '苔白腻', '脉弦滑'], '中医治则': ['化痰行瘀', '通络止痛'], '方剂': ['二陈汤合桃仁红花煎'], '中药': ['半夏', '陈皮', '茯苓', '甘草', '桃仁', '红花', '川芎', '当归', '生姜', '大枣'], '中医治疗': ['针灸', '推拿治疗'], '病程阶段': ['病情有所缓解']}"
    },
    {
        "input": "患者：周先生，男，48岁，公务员。诊次：二诊。时间：2023年1月12日。主诉：肛门坠胀感半年，伴灼热感。现病史：患者半年以来出现肛门坠胀感，伴有灼热感，排便后症状加重。曾外用药物无明显改善。既往史：无特殊疾病史。诊断：诊断为痔疮，属湿热下注证。症见肛门坠胀、灼热感，舌质红，苔黄腻，脉滑数。治则：清热利湿，解毒止痛。方剂：槐角地榆汤。中药：槐角、地榆、黄柏、枳壳、槟榔、甘草。中医治疗：中药熏洗结合推拿治疗。病情记录：患者肛门坠胀感有所减轻，灼热感减少。医师总结：治疗效果较好，建议继续治疗，避免久坐及辛辣食物。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n# 读取输入文本\ninput_text = \"\"\"\n患者：周先生，男，48岁，公务员。诊次：二诊。时间：2023年1月12日。主诉：肛门坠胀感半年，伴灼热感。现病史：患者半年以来出现肛门坠胀感，伴有灼热感，排便后症状加重。曾外用药物无明显改善。既往史：无特殊疾病史。诊断：诊断为痔疮，属湿热下注证。症见肛门坠胀、灼热感，舌质红，苔黄腻，脉滑数。治则：清热利湿，解毒止痛。方剂：槐角地榆汤。中药：槐角、地榆、黄柏、枳壳、槟榔、甘草。中医治疗：中药熏洗结合推拿治疗。病情记录：患者肛门坠胀感有所减轻，灼热感减少。医师总结：治疗效果较好，建议继续治疗，避免久坐及辛辣食物。\n\"\"\"\n\n# 初始化一个字典来存储抽取结果\nextracted_info = {\n    \"患者\": [],\n    \"诊次\": [],\n    \"时间\": [],\n    \"中医诊断\": [],\n    \"中医疾病\": [],\n    \"中医证候\": [],\n    \"临床表现\": [],\n    \"中医治则\": [],\n    \"方剂\": [],\n    \"中药\": [],\n    \"中医治疗\": [],\n    \"病程阶段\": []\n}\n\n# 使用正则表达式或其他文本处理方法来抽取信息\n# 抽取患者信息\npatient_info = extract_with_pattern(input_text, r\"患者：(.+?)，\")\nextracted_info[\"患者\"].append(patient_info)\n\n# 抽取诊次信息\nvisit_number = extract_with_pattern(input_text, r\"诊次：(\\d+诊)\")\nextracted_info[\"诊次\"].append(visit_number)\n\n# 抽取时间信息\nvisit_date = extract_with_pattern(input_text, r\"时间：(\\d+年\\d+月\\d+日)\")\nextracted_info[\"时间\"].append(visit_date)\n\n# 抽取中医诊断信息\ndiagnosis = extract_with_pattern(input_text, r\"诊断：诊断为(.+?)，\")\nextracted_info[\"中医诊断\"].append(diagnosis)\nextracted_info[\"中医疾病\"].append(diagnosis)  # 诊断和疾病在此文本中是相同的\n\n# 抽取中医证候信息\nsyndrome = extract_with_pattern(input_text, r\"属(.+?)证\")\nextracted_info[\"中医证候\"].append(syndrome)\n\n# 抽取临床表现信息\nclinical_manifestations = extract_all(input_text, r\"症见(.+?)。\")\nextracted_info[\"临床表现\"].extend(clinical_manifestations.split('、'))\n\n# 抽取中医治则信息\ntreatment_principle = extract_all(input_text, r\"治则：(.+?)。\")\nextracted_info[\"中医治则\"].extend(treatment_principle.split('，'))\n\n# 抽取方剂信息\nprescription = extract_with_pattern(input_text, r\"方剂：(.+?)。\")\nextracted_info[\"方剂\"].append(prescription)\n\n# 抽取中药信息\nherbs = extract_all(input_text, r\"中药：(.+?)。\")\nextracted_info[\"中药\"].extend(herbs.split('、'))\n\n# 抽取中医治疗信息\ntreatments = extract_all(input_text, r\"中医治疗：(.+?)。\")\nextracted_info[\"中医治疗\"].extend(treatments.split('结合'))\n\n# 抽取病程阶段信息\ndisease_course = extract_with_pattern(input_text, r\"病情记录：(.+?)。\")\nextracted_info[\"病程阶段\"].append(disease_course)\n\n# 输出抽取结果\nprint(extracted_info)\n\n# 定义提取信息的辅助函数\ndef extract_with_pattern(text, pattern):\n    # 正则表达式匹配\n    match = re.search(pattern, text)\n    return match.group(1) if match else None\n\ndef extract_all(text, pattern):\n    # 正则表达式匹配所有\n    matches = re.findall(pattern, text)\n    return '、'.join(matches) if matches else None\n\n# 伪代码结束",
        "output": "{'患者': ['周先生'], '诊次': ['二诊'], '时间': ['2023年1月12日'], '中医诊断': ['痔疮'], '中医疾病': ['痔疮'], '中医证候': ['湿热下注证'], '临床表现': ['肛门坠胀感', '灼热感', '舌质红', '苔黄腻', '脉滑数'], '中医治则': ['清热利湿', '解毒止痛'], '方剂': ['槐角地榆汤'], '中药': ['槐角', '地榆', '黄柏', '枳壳', '槟榔', '甘草'], '中医治疗': ['中药熏洗', '推拿治疗'], '病程阶段': ['病情有所缓解']}"
    },
    {
        "input": "患者：徐先生，男，50岁，司机。诊次：初诊。时间：2023年6月18日。主诉：双脚踝肿痛3个月，加重1周。现病史：患者3个月前无明显诱因出现双脚踝肿痛，活动后加重，曾服用止痛药，症状无明显改善。既往史：无特殊疾病史。诊断：经诊断为踝痹病，属风湿痹阻证。症见双脚踝肿痛，活动后加重，舌质淡，苔白腻，脉浮缓。治则：祛风除湿，通络止痛。方剂：蠲痹汤。中药：羌活、独活、防风、当归、川芎、甘草、地龙、生姜、大枣。中医治疗：针灸结合推拿治疗。病情记录：患者踝关节肿痛有所缓解，活动度增加。医师总结：初步治疗有效，需继续治疗，并进行功能性锻炼，避免寒湿侵袭。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n\"\"\"\n首先定义一个函数，用于解析中医文本并提取关键信息\ndef parse_tcm_text(text):\n    # 初始化一个字典来存储所有提取的信息\n    extracted_info = {\n        \"患者\": [],\n        \"诊次\": [],\n        \"时间\": [],\n        \"中医诊断\": [],\n        \"中医疾病\": [],\n        \"中医证候\": [],\n        \"临床表现\": [],\n        \"中医治则\": [],\n        \"方剂\": [],\n        \"中药\": [],\n        \"中医治疗\": [],\n        \"病程阶段\": []\n    }\n    \n    # 使用正则表达式或字符串分割方法提取信息\n    # 提取患者信息\n    patient_info = text.split(\"患者：\")[1].split(\"，\")[0]\n    extracted_info[\"患者\"].append(patient_info)\n    \n    # 提取诊次信息\n    visit_info = text.split(\"诊次：\")[1].split(\"。\")[0]\n    extracted_info[\"诊次\"].append(visit_info)\n    \n    # 提取时间信息\n    time_info = text.split(\"时间：\")[1].split(\"。\")[0]\n    extracted_info[\"时间\"].append(time_info)\n    \n    # 提取中医诊断信息\n    diagnosis_info = text.split(\"诊断：\")[1].split(\"。\")[0]\n    extracted_info[\"中医诊断\"].append(diagnosis_info.split(\"，\")[0])\n    extracted_info[\"中医疾病\"].append(diagnosis_info.split(\"，\")[0])\n    extracted_info[\"中医证候\"].append(diagnosis_info.split(\"，\")[1].split(\"属\")[1])\n    \n    # 提取临床表现信息\n    clinical_info = text.split(\"症见\")[1].split(\"。\")[0]\n    symptoms = clinical_info.split(\"，\")\n    extracted_info[\"临床表现\"].extend(symptoms)\n    \n    # 提取中医治则信息\n    treatment_principle = text.split(\"治则：\")[1].split(\"。\")[0].split(\"，\")\n    extracted_info[\"中医治则\"].extend(treatment_principle)\n    \n    # 提取方剂信息\n    prescription_info = text.split(\"方剂：\")[1].split(\"。\")[0]\n    extracted_info[\"方剂\"].append(prescription_info)\n    \n    # 提取中药信息\n    herbs_info = text.split(\"中药：\")[1].split(\"。\")[0]\n    herbs = herbs_info.split(\"、\")\n    extracted_info[\"中药\"].extend(herbs)\n    \n    # 提取中医治疗信息\n    treatment_info = text.split(\"中医治疗：\")[1].split(\"。\")[0].split(\"结合\")\n    extracted_info[\"中医治疗\"].extend(treatment_info)\n    \n    # 提取病程阶段信息\n    disease_course_info = text.split(\"病情记录：\")[1].split(\"。\")[0]\n    extracted_info[\"病程阶段\"].append(disease_course_info)\n    \n    # 返回提取的信息\n    return extracted_info\n\n# 假设输入的文本是input_text\ninput_text = \"患者：徐先生，男，50岁，司机。诊次：初诊。时间：2023年6月18日。...\"\n\n# 调用函数处理文本\nextracted_data = parse_tcm_text(input_text)\n\n# 输出提取的数据\nprint(extracted_data)\n\"\"\"\n# 伪代码结束",
        "output": "{'患者': ['徐先生'], '诊次': ['初诊'], '时间': ['2023年6月18日'], '中医诊断': ['踝痹病'], '中医疾病': ['踝痹病'], '中医证候': ['风湿痹阻证'], '临床表现': ['双脚踝肿痛', '舌质淡', '苔白腻', '脉浮缓', '活动后加重'], '中医治则': ['祛风除湿', '通络止痛'], '方剂': ['蠲痹汤'], '中药': ['羌活', '独活', '防风', '当归', '川芎', '甘草', '地龙', '生姜', '大枣'], '中医治疗': ['针灸', '推拿治疗'], '病程阶段': ['病情有所缓解']}"
    },
    {
        "input": "患者：李华，男，45岁，教师。初诊：2023年3月5日。主诉：双眼干涩、视物模糊半年，加重1周。现病史：患者自述半年前开始出现双眼干涩，伴有视物模糊，休息后有所缓解，但近期症状加重，尤其是长时间用眼后。既往史：无眼科手术史，家族无类似病史。诊断：根据眼部检查，患者舌淡苔白，脉细弱，四诊合参，辨证为肝肾阴虚，证属干眼症。治疗方案：治宜滋阴明目。方剂：杞菊地黄汤。中药：枸杞子、菊花、熟地黄、山茱萸、山药、茯苓、丹皮、泽泻。患者需每日服用1剂，水煎服，用药过程中注意休息，减少长时间用眼。随访：患者应每周来院复诊，以调整方药。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n# 读取输入文本\ninput_text = \"\"\"\n患者：李华，男，45岁，教师。初诊：2023年3月5日。主诉：双眼干涩、视物模糊半年，加重1周。现病史：患者自述半年前开始出现双眼干涩，伴有视物模糊，休息后有所缓解，但近期症状加重，尤其是长时间用眼后。既往史：无眼科手术史，家族无类似病史。诊断：根据眼部检查，患者舌淡苔白，脉细弱，四诊合参，辨证为肝肾阴虚，证属干眼症。治疗方案：治宜滋阴明目。方剂：杞菊地黄汤。中药：枸杞子、菊花、熟地黄、山茱萸、山药、茯苓、丹皮、泽泻。患者需每日服用1剂，水煎服，用药过程中注意休息，减少长时间用眼。随访：患者应每周来院复诊，以调整方药。\n\"\"\"\n\n# 初始化一个字典来存储抽取结果\nextracted_info = {\n    \"患者\": [],\n    \"诊次\": [],\n    \"时间\": [],\n    \"中医诊断\": [],\n    \"中医疾病\": [],\n    \"中医证候\": [],\n    \"西医诊断\": [],\n    \"西医疾病\": [],\n    \"临床表现\": [],\n    \"体格检查\": [],\n    \"中医治则\": [],\n    \"方剂\": [],\n    \"中药\": [],\n    \"中医治疗\": [],\n    \"中医相关学科\": [],\n    \"用法\": []\n}\n\n# 使用正则表达式或其他文本处理方法来抽取信息\n# 抽取患者信息\npatient_info = extract_with_regex(input_text, r\"患者：(\\w+)\")\nextracted_info[\"患者\"].append(patient_info)\n\n# 抽取诊次和时间\nvisit_info = extract_with_regex(input_text, r\"初诊：(\\d{4}年\\d{2}月\\d{2}日)\")\nextracted_info[\"诊次\"].append(\"初诊\")\nextracted_info[\"时间\"].append(visit_info)\n\n# 抽取中医诊断和疾病\ntraditional_diagnosis = extract_with_regex(input_text, r\"辨证为(\\w+)\")\nextracted_info[\"中医诊断\"].append(traditional_diagnosis)\nextracted_info[\"中医疾病\"].append(\"干眼症\")\nextracted_info[\"中医证候\"].append(traditional_diagnosis)\n\n# 抽取西医诊断和疾病\nwestern_diagnosis = \"干眼症\"\nextracted_info[\"西医诊断\"].append(western_diagnosis)\nextracted_info[\"西医疾病\"].append(western_diagnosis)\n\n# 抽取临床表现\nclinical_manifestations = extract_with_regex(input_text, r\"主诉：(\\w+)\")\nextracted_info[\"临床表现\"].extend(clinical_manifestations.split(\"、\"))\n\n# 抽取体格检查结果\nphysical_examination = extract_with_regex(input_text, r\"患者舌(\\w+)\")\nphysical_examination += \" \" + extract_with_regex(input_text, r\"苔(\\w+)\")\nphysical_examination += \" \" + extract_with_regex(input_text, r\"脉(\\w+)\")\nextracted_info[\"体格检查\"].extend(physical_examination.split())\n\n# 抽取中医治则\ntreatment_principle = extract_with_regex(input_text, r\"治宜(\\w+)\")\nextracted_info[\"中医治则\"].append(treatment_principle)\n\n# 抽取方剂\nprescription = extract_with_regex(input_text, r\"方剂：(\\w+)\")\nextracted_info[\"方剂\"].append(prescription)\n\n# 抽取中药\nherbs = extract_with_regex(input_text, r\"中药：([\\w ]+)\")\nextracted_info[\"中药\"].extend(herbs.split())\n\n# 抽取中医治疗\ntreatment = extract_with_regex(input_text, r\"患者需每日服用(\\d+)剂\")\nextracted_info[\"中医治疗\"].append(treatment + \"，水煎服\")\n\n# 抽取中医相关学科\nextracted_info[\"中医相关学科\"].append(\"中医眼科学\")\n\n# 抽取用法\nextracted_info[\"用法\"].append(treatment + \"，水煎服\")\n\n# 输出结构化数据\nprint(extracted_info)\n\n# 定义提取信息的函数\ndef extract_with_regex(text, pattern):\n    # 此函数使用正则表达式来提取匹配的信息\n    match = re.search(pattern, text)\n    if match:\n        return match.group(1)\n    return \"\"\n\n# 伪代码结束",
        "output": "{'患者': ['李华'], '诊次': ['初诊'], '时间': ['2023年3月5日'], '中医诊断': ['肝肾阴虚'], '中医疾病': ['干眼症'], '中医证候': ['肝肾阴虚'], '西医诊断': ['干眼症'], '西医疾病': ['干眼症'], '临床表现': ['双眼干涩', '视物模糊'], '体格检查': ['舌淡', '苔白', '脉细弱'], '中医治则': ['滋阴明目'], '方剂': ['杞菊地黄汤'], '中药': ['枸杞子', '菊花', '熟地黄', '山茱萸', '山药', '茯苓', '丹皮', '泽泻'], '中医治疗': ['每日服用1剂，水煎服'], '中医相关学科': ['中医眼科学'], '用法': ['每日服用1剂，水煎服']}"
    },
    {
        "input": "患者：王海，男，60岁，退休工人。初诊：2023年4月12日。主诉：右耳耳鸣、听力下降2年，加重伴耳痛1周。现病史：2年前开始出现右耳耳鸣，伴有听力下降，近1周伴有明显耳痛。既往史：高血压史10年，常服降压药。诊断：患者舌红苔黄，脉弦数，综合四诊信息，辨证为肝胆火旺，证属中耳炎。治疗方案：宜清肝泻火，方剂：龙胆泻肝汤。中药：龙胆草、黄芩、栀子、生地黄、车前子、木通、泽泻、柴胡、当归、甘草。患者需每日1剂，水煎服。建议少吃辛辣食物，每天监测血压。随访：每两周复诊一次，观察病情变化。",
        "instruction": "请根据以下伪代码，提取医案中的实体信息\n# 伪代码开始\n\"\"\"\n# 提取患者信息\npatient_info = extract_info(text, pattern=\"患者：(.*)\")\npatient_name = extract_info(patient_info, pattern=\"姓名：(.*)\")\npatient_gender = extract_info(patient_info, pattern=\"性别：(.*)\")\npatient_age = extract_info(patient_info, pattern=\"年龄：(.*)\")\npatient_occupation = extract_info(patient_info, pattern=\"职业：(.*)\")\n\n# 提取诊次和时间\nclinic_date_info = extract_info(text, pattern=\"初诊：(.*)\")\nclinic_time = extract_info(clinic_date_info, pattern=\"(\\d{4}年\\d{2}月\\d{2}日)\")\n\n# 提取主诉和病史\nchief_complaint = extract_info(text, pattern=\"主诉：(.*)\")\nmedical_history = extract_info(text, pattern=\"现病史：(.*)\")\npast_history = extract_info(text, pattern=\"既往史：(.*)\")\n\n# 提取诊断信息\ndiagnosis_info = extract_info(text, pattern=\"诊断：(.*)\")\ntcm_diagnosis = extract_info(diagnosis_info, pattern=\"中医诊断：(.*)\")\ntcm_disease = extract_info(diagnosis_info, pattern=\"中医疾病：(.*)\")\ntcm_symptoms = extract_info(diagnosis_info, pattern=\"中医证候：(.*)\")\nwm_diagnosis = extract_info(diagnosis_info, pattern=\"西医诊断：(.*)\")\nwm_disease = extract_info(diagnosis_info, pattern=\"西医疾病：(.*)\")\n\n# 提取临床表现和体格检查\nclinical_manifestation = extract_info(medical_history, pattern=\"症状：(.*)\")\nphysical_examination = extract_info(diagnosis_info, pattern=\"体格检查：(.*)\")\n\n# 提取治疗方案\ntreatment_plan = extract_info(text, pattern=\"治疗方案：(.*)\")\ntcm_therapy_principle = extract_info(treatment_plan, pattern=\"中医治则：(.*)\")\nprescription = extract_info(treatment_plan, pattern=\"方剂：(.*)\")\nherbs = extract_info(treatment_plan, pattern=\"中药：(.*)\")\ntcm_treatment = extract_info(treatment_plan, pattern=\"中医治疗：(.*)\")\n\n# 提取用法和随访建议\nusage = extract_info(treatment_plan, pattern=\"用法：(.*)\")\nfollow_up_advice = extract_info(text, pattern=\"随访：(.*)\")\n\n# 结构化输出\nstructured_data = {\n    \"患者\": [patient_name],\n    \"诊次\": [\"初诊\"],\n    \"时间\": [clinic_time],\n    \"中医诊断\": [tcm_diagnosis],\n    \"中医疾病\": [tcm_disease],\n    \"中医证候\": [tcm_symptoms],\n    \"西医诊断\": [wm_diagnosis],\n    \"西医疾病\": [wm_disease],\n    \"临床表现\": clinical_manifestation.split(\",\"),\n    \"体格检查\": physical_examination.split(\",\"),\n    \"中医治则\": [tcm_therapy_principle],\n    \"方剂\": [prescription],\n    \"中药\": herbs.split(\",\"),\n    \"中医治疗\": [tcm_treatment],\n    \"中医相关学科\": [\"中医耳鼻喉科学\"],\n    \"用法\": [usage],\n}\n\n# 输出结构化数据\nprint(structured_data)\n\"\"\"\n\n# 以下为伪代码中使用的辅助函数\n\"\"\"\ndef extract_info(text, pattern):\n    # 使用正则表达式匹配并返回匹配结果\n    matches = re.search(pattern, text)\n    return matches.group(1) if matches else None\n\"\"\"\n# 伪代码结束",
        "output": "{'患者': ['王海'], '诊次': ['初诊'], '时间': ['2023年4月12日'], '中医诊断': ['肝胆火旺'], '中医疾病': ['中耳炎'], '中医证候': ['肝胆火旺'], '西医诊断': ['中耳炎'], '西医疾病': ['中耳炎'], '临床表现': ['右耳耳鸣', '听力下降', '耳痛'], '体格检查': ['舌红', '苔黄', '脉弦数'], '中医治则': ['清肝泻火'], '方剂': ['龙胆泻肝汤'], '中药': ['龙胆草', '黄芩', '栀子', '生地黄', '车前子', '木通', '泽泻', '柴胡', '当归', '甘草'], '中医治疗': ['每日1剂，水煎服'], '中医相关学科': ['中医耳鼻喉科学'], '用法': ['每日1剂，水煎服']}"
    }
]